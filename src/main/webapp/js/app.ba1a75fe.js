(function(e){function a(a){for(var l,r,s=a[0],i=a[1],c=a[2],m=0,d=[];m<s.length;m++)r=s[m],n[r]&&d.push(n[r][0]),n[r]=0;for(l in i)Object.prototype.hasOwnProperty.call(i,l)&&(e[l]=i[l]);u&&u(a);while(d.length)d.shift()();return o.push.apply(o,c||[]),t()}function t(){for(var e,a=0;a<o.length;a++){for(var t=o[a],l=!0,s=1;s<t.length;s++){var i=t[s];0!==n[i]&&(l=!1)}l&&(o.splice(a--,1),e=r(r.s=t[0]))}return e}var l={},n={1:0},o=[];function r(a){if(l[a])return l[a].exports;var t=l[a]={i:a,l:!1,exports:{}};return e[a].call(t.exports,t,t.exports,r),t.l=!0,t.exports}r.m=e,r.c=l,r.d=function(e,a,t){r.o(e,a)||Object.defineProperty(e,a,{enumerable:!0,get:t})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,a){if(1&a&&(e=r(e)),8&a)return e;if(4&a&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(r.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&a&&"string"!=typeof e)for(var l in e)r.d(t,l,function(a){return e[a]}.bind(null,l));return t},r.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(a,"a",a),a},r.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)},r.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],i=s.push.bind(s);s.push=a,s=s.slice();for(var c=0;c<s.length;c++)a(s[c]);var u=i;o.push([9,0]),t()})({"/PNr":function(e,a,t){},"2vIK":function(e,a,t){},"875Q":function(e,a,t){},9:function(e,a,t){e.exports=t("Vtdi")},FvQx:function(e,a,t){e.exports=t.p+"img/404.a57b6f31.png"},JibB:function(e,a,t){e.exports=t.p+"img/404_cloud.0f4bc32b.png"},LWal:function(e,a,t){"use strict";var l=t("Tj5k"),n=t.n(l);n.a},S8OV:function(e,a,t){},Tj5k:function(e,a,t){},Vtdi:function(e,a,t){"use strict";t.r(a);var l=t("Kw5r"),n=t("XJYT"),o=t.n(n),r=(t("D66Q"),t("9d8Q"),t("sg+I"),function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("router-view")}),s=[],i=t("KHd+"),c={},u=Object(i["a"])(c,r,s,!1,null,null,null),m=u.exports,d=t("jE9Z"),p=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"app-wrapper"},[t("side-bar",{staticClass:"sidebar-container"}),t("div",{staticClass:"main-container"},[t("nav-bar"),t("app-main")],1)],1)},b=[],h=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("el-menu",{staticClass:"navbar",attrs:{mode:"horizontal"}},[t("div",{staticClass:"user-profile-container",attrs:{trigger:"click"}},[t("div",{staticClass:"user-profile-content"},[t("el-dropdown",[t("div",{staticClass:"user-profile-body"},[t("img",{staticClass:"user-avatar",attrs:{src:"https://img.alicdn.com/tfs/TB1ONhloamWBuNjy1XaXXXCbXXa-200-200.png"}}),t("span",{staticClass:"user-name"})]),t("el-dropdown-menu",{staticClass:"user-dropdown",attrs:{slot:"dropdown"},slot:"dropdown"},[t("el-dropdown-item",[t("span",{staticStyle:{display:"block"},on:{click:e.changePassword}},[e._v("修改密码")])]),t("el-dropdown-item",[t("span",{staticStyle:{display:"block"},on:{click:e.logout}},[e._v("退出")])])],1)],1)],1)])])},g=[],v=t("vDqi"),f=t.n(v);f.a.defaults.timeout=5e3,f.a.defaults.baseURL="/api";var _=f.a,w={name:"NavBar",methods:{logout:function(){var e=this;console.log("Logout"),_({method:"POST",url:"/manage/administrators/actions/logout"}).then(function(a){1==a.data.code?(e.$message({type:"success",message:a.data.msg}),window.location.href=a.data.data.redirect_url):e.$message({type:"warning",message:a.data.msg})})},changePassword:function(){window.location.href="/manage/login.action"}}},F=w,y=(t("LWal"),Object(i["a"])(F,h,g,!1,null,"3e47d6f4",null)),k=y.exports,$=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("scroll-bar",[t("div",{staticClass:"logo"},[t("img",{attrs:{src:"https://img.alicdn.com/tfs/TB13UQpnYGYBuNjy0FoXXciBFXa-242-134.png",width:"40"}}),t("span",{staticClass:"site-name"},[e._v("ADMIN LITE")])]),t("el-menu",{attrs:{mode:"vertical","show-timeout":200,"background-color":"#00142a","text-color":"hsla(0, 0%, 100%, .65)","active-text-color":"#409EFF"}},[e._l(e.asideMenuConfig,function(a){return[a.children?t("el-submenu",{key:a.name,attrs:{index:a.name||a.path}},[t("template",{slot:"title"},[a&&a.icon?t("i",{class:a.icon}):e._e(),a&&a.name?t("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(a.name))]):e._e()]),e._l(a.children,function(l){return l.hidden?e._e():[t("router-link",{key:l.name,attrs:{to:a.path+l.path}},[t("el-menu-item",{attrs:{index:a.path+l.path}},[l&&l.name?t("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(l.name))]):e._e()])],1)]})],2):t("router-link",{key:a.name,attrs:{to:a.path}},[t("el-menu-item",{attrs:{index:a.path}},[a.icon?t("i",{class:a.icon}):e._e(),a.name?t("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(a.name))]):e._e()])],1)]})],2)],1)},x=[],S=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{ref:"scrollContainer",staticClass:"scroll-container",on:{wheel:function(a){return a.preventDefault(),e.handleScroll(a)}}},[t("div",{ref:"scrollWrapper",staticClass:"scroll-wrapper",style:{top:e.top+"px"}},[e._t("default")],2)])},C=[],T=15,P={name:"ScrollBar",data:function(){return{top:0}},methods:{handleScroll:function(e){var a=e.wheelDelta||3*-e.deltaY,t=this.$refs.scrollContainer,l=t.offsetHeight,n=this.$refs.scrollWrapper,o=n.offsetHeight;a>0?this.top=Math.min(0,this.top+a):l-T<o?this.top<-(o-l+T)?this.top=this.top:this.top=Math.max(this.top+a,l-o-T):this.top=0}}},B=P,I=(t("skF7"),Object(i["a"])(B,S,C,!1,null,"0a3ffe79",null)),D=I.exports,N=[{path:"/user",name:"用户管理",icon:"el-icon-tickets",children:[{name:"用户信息",path:"/usermanage",icon:"home"},{name:"管理员",path:"/adminmanage",icon:"home"}]},{path:"/location",name:"投放点管理",icon:"el-icon-edit-outline",children:[{name:"新增投放点",path:"/add",icon:"home"},{name:"投放点管理",path:"/locationmanage",icon:"home"}]},{name:"充电宝管理",path:"/powerbank/manage",icon:"el-icon-menu"},{name:"订单管理",path:"/order/manage",icon:"el-icon-circle-check-outline"}],A={components:{ScrollBar:D},name:"SideBar",props:{},data:function(){return{asideMenuConfig:N}}},E=A,O=(t("wU40"),Object(i["a"])(E,$,x,!1,null,"fababc7c",null)),L=O.exports,j=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("section",{staticClass:"app-main"},[t("transition",{attrs:{name:"fade",mode:"out-in"}},[t("router-view")],1)],1)},U=[],M={name:"AppMain"},z=M,R=Object(i["a"])(z,j,U,!1,null,null,null),X=R.exports,G={name:"layout",components:{NavBar:k,SideBar:L,AppMain:X}},Q=G,J=(t("rg3u"),Object(i["a"])(Q,p,b,!1,null,"6e6cb181",null)),W=J.exports,K=W,V=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"dashboard"})},Y=[],H={},Z=Object(i["a"])(H,V,Y,!1,null,null,null),q=Z.exports,ee=q,ae=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{attrs:{className:"user-manage-page"}},[t("el-row",[t("el-col",{attrs:{span:8}},[t("div",{staticClass:"grid-content bg-purple"},[t("div",{staticClass:"search"},[t("div",{attrs:{className:"basic-form"}},[t("basic-container",[t("el-form",{ref:"userSearchForm",staticClass:"demo-ruleForm",staticStyle:{width:"100%"},attrs:{model:e.userSearchForm,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"用户ID",prop:"userId"}},[t("el-input",{model:{value:e.userSearchForm.userId,callback:function(a){e.$set(e.userSearchForm,"userId",a)},expression:"userSearchForm.userId"}})],1),t("el-form-item",{attrs:{label:"用户号码",prop:"userPhone"}},[t("el-input",{model:{value:e.userSearchForm.userPhone,callback:function(a){e.$set(e.userSearchForm,"userPhone",a)},expression:"userSearchForm.userPhone"}})],1),t("el-form-item",{attrs:{label:"用户昵称",prop:"userAlias"}},[t("el-input",{model:{value:e.userSearchForm.userAlias,callback:function(a){e.$set(e.userSearchForm,"userAlias",a)},expression:"userSearchForm.userAlias"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(a){e.submitForm("userSearchForm")}}},[e._v("搜索")]),t("el-button",{on:{click:function(a){e.resetForm("userSearchForm")}}},[e._v("重置")])],1)],1)],1)],1)])])]),t("el-col",{attrs:{span:1}},[t("span",[e._v(" ")])]),t("el-col",{attrs:{span:15}},[t("div",{staticClass:"grid-content bg-purple-light"},[t("div",{staticClass:"table"},[t("basic-container",[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"",height:"800px"}},[t("el-table-column",{attrs:{sortable:"",fixed:"",prop:"user_id",label:"ID",width:"150"}}),t("el-table-column",{attrs:{sortable:"",prop:"user_alias",label:"用户昵称",width:"180"}}),t("el-table-column",{attrs:{sortable:"",prop:"user_phone",label:"用户手机",width:"200"}}),t("el-table-column",{attrs:{prop:"user_balance",label:"用户余额",width:"160"}}),t("el-table-column",{attrs:{label:"操作",width:"280"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){e.handleEdit(a.$index,a.row)}}},[e._v("编辑")]),t("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(t){e.handleRecharge(a.$index,a.row)}}},[e._v("充值")]),t("el-button",{attrs:{size:"mini",type:"warning"},on:{click:function(t){e.handleDudect(a.$index,a.row)}}},[e._v("扣费")]),t("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){e.handleDelete(a.$index,a.row)}}},[e._v("删除")])]}}])})],1),t("div",{staticStyle:{"text-align":"center"}},[t("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:50,"current-page":e.currentpage},on:{"current-change":e.handleCurrentChange}})],1)],1)],1)])])],1)],1)},te=[],le=t("rJZL"),ne={userId:"",userPhone:"",userAlias:"",pageNum:1},oe={name:"UserManage",data:function(){return{tableData:[],userSearchForm:{userId:"",userPhone:"",userAlias:""},currentpage:1}},components:{BasicContainer:le["a"]},mounted:function(){ne.pageNum=1,this.getList()},methods:{handleEdit:function(e,a){var t=this;console.log(e,a),this.$prompt("请输入改绑手机号","提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/^[1][3,4,5,7,8][0-9]{9}$/,inputErrorMessage:"请输入正确手机号码"}).then(function(e){var l=e.value;t.changePhone(a.user_id,l)}).catch(function(){t.$message({type:"info",message:"取消改绑"})})},handleDelete:function(e,a){var t=this;this.$confirm("此操作将永久删除该用户, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then(function(){t.deleteUser(a.user_id)}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},handleRecharge:function(e,a){var t=this;this.$prompt("请输入充值金额","提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/^\d+(\.{0,1}\d+){0,1}$/,inputErrorMessage:"充值金额不正确"}).then(function(e){var l=e.value;t.recharge(a.user_id,l)}).catch(function(){t.$message({type:"info",message:"取消充值"})})},handleDudect:function(e,a){var t=this;this.$prompt("请输入扣除金额","提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/^\d+(\.{0,1}\d+){0,1}$/,inputErrorMessage:"扣费金额不正确"}).then(function(e){var l=e.value;t.recharge(a.user_id,-l)}).catch(function(){t.$message({type:"info",message:"取消扣费"})})},submitForm:function(){ne.userId=this.userSearchForm.userId,ne.userPhone=this.userSearchForm.userPhone,ne.userAlias=this.userSearchForm.userAlias,ne.pageNum=1,""!=ne.userId?this.getOne():this.getList()},getList:function(){var e=this;_({method:"GET",url:"/manage/users",params:ne}).then(function(a){e.tableData=a.data.data})},getOne:function(){var e=this;_({method:"GET",url:"/manage/users/"+ne.userId,params:ne}).then(function(a){e.tableData=a.data.data})},resetForm:function(e){this.$refs[e].resetFields()},handleCurrentChange:function(e){console.log("当前页: ".concat(e)),ne.pageNum=e,this.getList()},recharge:function(e,a){var t=this,l=new URLSearchParams;l.append("money",a),_({method:"POST",url:"/manage/users/"+e+"/balance",params:l}).then(function(e){1==e.data.code?t.$message({type:"success",message:e.data.msg+"请刷新。"}):t.$message({type:"success",message:e.data.msg})})},changePhone:function(e,a){var t=this,l=new URLSearchParams;l.append("phone",a),_({method:"POST",url:"/manage/users/"+e+"/phone",params:l}).then(function(e){1==e.data.code?t.$message({type:"success",message:e.data.msg+"请刷新。"}):t.$message({type:"success",message:e.data.msg})})},deleteUser:function(e){var a=this;_({method:"DELETE",url:"/manage/users/"+e}).then(function(e){1==e.data.code?a.$message({type:"success",message:e.data.msg+"请刷新。"}):a.$message({type:"success",message:e.data.msg})})}}},re=oe,se=Object(i["a"])(re,ae,te,!1,null,null,null),ie=se.exports,ce=ie,ue=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{attrs:{className:"admin-manage-page"}},[t("el-row",[t("el-col",{attrs:{span:8}},[t("div",{staticClass:"grid-content bg-purple"},[t("div",{attrs:{className:"basic-form"}},[t("basic-container",[t("el-form",{ref:"searchForm",staticClass:"demo-ruleForm",attrs:{model:e.searchForm,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"搜索ID",prop:"adminId"}},[t("el-input",{model:{value:e.searchForm.adminId,callback:function(a){e.$set(e.searchForm,"adminId",a)},expression:"searchForm.adminId"}})],1),t("el-form-item",{attrs:{label:"搜索账号",prop:"adminAccount"}},[t("el-input",{model:{value:e.searchForm.adminAccount,callback:function(a){e.$set(e.searchForm,"adminAccount",a)},expression:"searchForm.adminAccount"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(a){e.submitSearchForm()}}},[e._v("搜索")]),t("el-button",{on:{click:function(a){e.resetSearchForm("searchForm")}}},[e._v("重置")])],1)],1)],1)],1)]),t("div",{staticClass:"grid-content bg-purple"},[t("div",{attrs:{className:"basic-form"}},[t("basic-container",[t("el-form",{ref:"newForm",staticClass:"demo-ruleForm",attrs:{model:e.newForm,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"新增管理员",prop:"adminAccount"}},[t("el-input",{model:{value:e.newForm.adminAccount,callback:function(a){e.$set(e.newForm,"adminAccount",a)},expression:"newForm.adminAccount"}})],1),t("el-form-item",{attrs:{label:"输入密码",prop:"adminPassword"}},[t("el-input",{attrs:{type:"password"},model:{value:e.newForm.adminPassword,callback:function(a){e.$set(e.newForm,"adminPassword",a)},expression:"newForm.adminPassword"}})],1),t("el-form-item",{attrs:{label:"确认密码密码",prop:"adminPassword_confirm"}},[t("el-input",{attrs:{type:"password"},model:{value:e.newForm.adminPassword_confirm,callback:function(a){e.$set(e.newForm,"adminPassword_confirm",a)},expression:"newForm.adminPassword_confirm"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(a){e.submitNewForm()}}},[e._v("创建")]),t("el-button",{on:{click:function(a){e.resetNewForm("newForm")}}},[e._v("重置")])],1)],1)],1)],1)])]),t("el-col",{attrs:{span:1}},[t("span",[e._v(" ")])]),t("el-col",{attrs:{span:15}},[t("div",{staticClass:"grid-content bg-purple"},[t("div",{attrs:{className:"fixed-table"}},[t("basic-container",[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"",height:"800px"}},[t("el-table-column",{attrs:{sortable:"",prop:"admin_id",label:"ID",width:"160"}}),t("el-table-column",{attrs:{sortable:"",prop:"admin_account",label:"账号",width:"180"}}),t("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){e.handleEdit(a.$index,a.row)}}},[e._v("修改密码")]),t("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){e.handleDelete(a.$index,a.row)}}},[e._v("删除账户")])]}}])})],1),t("div",{staticStyle:{"text-align":"center"}},[t("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:50,"current-page":e.currentpage},on:{"current-change":e.handleCurrentChange,"update:currentPage":function(a){e.currentpage=a}}})],1)],1)],1)])])],1)],1)},me=[],de={adminId:"",adminAccount:"",url:"",pageNum:1},pe={name:"AdminManage",components:{BasicContainer:le["a"]},data:function(){return{tableData:[],searchForm:{adminId:"",adminAccount:""},newForm:{adminAccount:"",adminPassword:"",adminPassword_confirm:""},currentpage:1}},mounted:function(){de.adminId=null,de.adminAccount=null,de.url="/manage/administrators",de.pageNum=1,this.getTable(de.url,de)},methods:{handleEdit:function(e,a){var t=this;console.log(e,a);var l=a.admin_account,n="",o="";this.$prompt("请输入原密码","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(e){var a=e.value;n=a,t.$prompt("请输入新密码","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(e){var a=e.value;o=a;var r=new URLSearchParams;r.append("oldPassword",n),r.append("newPassword",o),""!=l&&""!=n&&""!=o&&_({method:"POST",url:"/manage/administrators/account/"+l+"/password",params:r}).then(function(e){1==e.data.code?t.$message({type:"success",message:e.data.msg}):t.$message({type:"warning",message:e.data.msg})})}).catch(function(){t.$message({type:"info",message:"取消修改"})})}).catch(function(){t.$message({type:"info",message:"取消修改"})})},handleDelete:function(e,a){var t=this;console.log(e,a),this.$confirm("此操作将永久删除该用户, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then(function(){_({method:"DELETE",url:"/manage/administrators/"+a.admin_id}).then(function(e){1==e.data.code?t.$message({type:"success",message:e.data.msg}):t.$message({type:"warning",message:e.data.msg})})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},submitSearchForm:function(){""!=this.searchForm.adminId?(de.adminId=this.searchForm.adminId,de.adminAccount=null,de.url="/manage/administrators/"+this.searchForm.adminId,de.pageNum=1):null!=this.searchForm.adminAccount&&(de.adminId=null,de.adminAccount=this.searchForm.adminAccount,de.url="/manage/administrators/account/"+this.searchForm.adminAccount,de.pageNum=1),this.currentpage=1,this.getTable(de.url,de)},submitNewForm:function(){var e=this;""==this.newForm.adminAccount&&this.$message({type:"warning",message:"请管理员Account"}),(this.newForm.adminPassword!=this.newForm.adminPassword_confirm||this.newForm.adminPassword.length<8)&&this.$message({type:"warning",message:"请确认两次密码一致且长度大于8."});var a=new URLSearchParams;a.append("adminAccount",this.newForm.adminAccount),a.append("adminPassword",this.newForm.adminPassword),_({method:"put",url:"/manage/administrators",params:a}).then(function(a){1==a.data.code?(e.$message({type:"success",message:a.data.msg}),e.resetNewForm("newForm")):a.data.code<1&&e.$message({type:"warning",message:a.data.msg})})},resetSearchForm:function(e){this.$refs[e].resetFields()},resetNewForm:function(e){this.$refs[e].resetFields()},getTable:function(e,a){var t=this;console.log("url : "+e+"   params : "+a),_({method:"GET",url:e,params:a}).then(function(e){t.tableData=e.data.data,e.data.code<1&&t.$message({type:"warning",message:e.data.msg})})},handleCurrentChange:function(e){console.log("当前页: ".concat(e)),de.pageNum=e,this.getTable(de.url,de)}}},be=pe,he=Object(i["a"])(be,ue,me,!1,null,null,null),ge=he.exports,ve=ge,fe=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{attrs:{className:"add-location-page"}},[t("div",{attrs:{className:"basic-form"}},[t("basic-container",[t("el-form",{ref:"locationForm",staticClass:"demo-ruleForm",attrs:{model:e.locationForm,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"投放点地址",prop:"address"}},[t("el-col",{attrs:{span:5}},[t("el-cascader",{attrs:{placeholder:"搜索市区",options:e.districtoptions,filterable:""},on:{change:e.districtChange}})],1),t("el-col",{attrs:{span:19}},[t("el-input",{attrs:{placeholder:"请输入详细地址"},model:{value:e.locationForm.address,callback:function(a){e.$set(e.locationForm,"address",a)},expression:"locationForm.address"}})],1)],1),t("el-form-item",{attrs:{label:"投放点别名"}},[t("el-input",{model:{value:e.locationForm.alias,callback:function(a){e.$set(e.locationForm,"alias",a)},expression:"locationForm.alias"}})],1),t("el-form-item",{attrs:{label:"可容纳总数"}},[t("el-col",{attrs:{span:7}},[t("el-input",{model:{value:e.locationForm.amount,callback:function(a){e.$set(e.locationForm,"amount",a)},expression:"locationForm.amount"}})],1)],1),t("el-form-item",{attrs:{label:"定位方式"}},[t("el-radio-group",{model:{value:e.locationForm.bylocation,callback:function(a){e.$set(e.locationForm,"bylocation",a)},expression:"locationForm.bylocation"}},[t("el-radio",{attrs:{label:!1}},[e._v("按地址定位")]),t("el-radio",{attrs:{label:!0}},[e._v("经纬度精确定位")])],1)],1),t("el-form-item",{attrs:{label:"定位-经度"}},[t("el-col",{attrs:{span:7}},[t("el-input",{model:{value:e.locationForm.longitude,callback:function(a){e.$set(e.locationForm,"longitude",a)},expression:"locationForm.longitude"}})],1)],1),t("el-form-item",{attrs:{label:"定位-纬度"}},[t("el-col",{attrs:{span:7}},[t("el-input",{model:{value:e.locationForm.latitude,callback:function(a){e.$set(e.locationForm,"latitude",a)},expression:"locationForm.latitude"}})],1)],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(a){e.submitForm("locationForm")}}},[e._v("立即创建")]),t("el-button",{on:{click:function(a){e.resetForm("locationForm")}}},[e._v("重置")])],1)],1)],1)],1)])},_e=[],we={name:"AddLocation",components:{BasicContainer:le["a"]},data:function(){return{locationForm:{alias:"",address:"",city:"",district:"",amount:null,bylocation:!1,longitude:null,latitude:null},districtoptions:[{value:"广州市",label:"广州市",children:[{value:"荔湾区",label:"荔湾区"},{value:"越秀区",label:"越秀区"},{value:"海珠区",label:"海珠区"},{value:"天河区",label:"天河区"},{value:"白云区",label:"白云区"},{value:"黄埔区",label:"黄埔区"},{value:"番禺区",label:"番禺区"},{value:"花都区",label:"花都区"},{value:"南沙区",label:"南沙区"},{value:"从化区",label:"从化区"},{value:"增城区",label:"增城区"}]},{value:"韶关市",label:"韶关市",children:[{value:"武江区",label:"武江区"},{value:"浈江区",label:"浈江区"},{value:"曲江区",label:"曲江区"},{value:"始兴县",label:"始兴县"},{value:"仁化县",label:"仁化县"},{value:"翁源县",label:"翁源县"},{value:"乳源瑶族自治县",label:"乳源瑶族自治县"},{value:"新丰县",label:"新丰县"},{value:"乐昌市",label:"乐昌市"},{value:"南雄市",label:"南雄市"}]},{value:"深圳市",label:"深圳市",children:[{value:"罗湖区",label:"罗湖区"},{value:"福田区",label:"福田区"},{value:"南山区",label:"南山区"},{value:"宝安区",label:"宝安区"},{value:"龙岗区",label:"龙岗区"},{value:"盐田区",label:"盐田区"}]},{value:"珠海市",label:"珠海市",children:[{value:"香洲区",label:"香洲区"},{value:"斗门区",label:"斗门区"},{value:"金湾区",label:"金湾区"}]},{value:"汕头市",label:"汕头市",children:[{value:"龙湖区",label:"龙湖区"},{value:"金平区",label:"金平区"},{value:"濠江区",label:"濠江区"},{value:"潮阳区",label:"潮阳区"},{value:"潮南区",label:"潮南区"},{value:"澄海区",label:"澄海区"},{value:"南澳县",label:"南澳县"}]},{value:"佛山市",label:"佛山市",children:[{value:"禅城区",label:"禅城区"},{value:"南海区",label:"南海区"},{value:"顺德区",label:"顺德区"},{value:"三水区",label:"三水区"},{value:"高明区",label:"高明区"}]},{value:"江门市",label:"江门市",children:[{value:"蓬江区",label:"蓬江区"},{value:"江海区",label:"江海区"},{value:"新会区",label:"新会区"},{value:"台山市",label:"台山市"},{value:"开平市",label:"开平市"},{value:"鹤山市",label:"鹤山市"},{value:"恩平市",label:"恩平市"}]},{value:"湛江市",label:"湛江市",children:[{value:"赤坎区",label:"赤坎区"},{value:"霞山区",label:"霞山区"},{value:"坡头区",label:"坡头区"},{value:"麻章区",label:"麻章区"},{value:"遂溪县",label:"遂溪县"},{value:"徐闻县",label:"徐闻县"},{value:"廉江市",label:"廉江市"},{value:"雷州市",label:"雷州市"},{value:"吴川市",label:"吴川市"}]},{value:"茂名市",label:"茂名市",children:[{value:"茂南区",label:"茂南区"},{value:"电白区",label:"电白区"},{value:"高州市",label:"高州市"},{value:"化州市",label:"化州市"},{value:"信宜市",label:"信宜市"}]},{value:"肇庆市",label:"肇庆市",children:[{value:"端州区",label:"端州区"},{value:"鼎湖区",label:"鼎湖区"},{value:"高要区",label:"高要区"},{value:"广宁县",label:"广宁县"},{value:"怀集县",label:"怀集县"},{value:"封开县",label:"封开县"},{value:"德庆县",label:"德庆县"},{value:"四会市",label:"四会市"}]},{value:"惠州市",label:"惠州市",children:[{value:"惠城区",label:"惠城区"},{value:"惠阳区",label:"惠阳区"},{value:"博罗县",label:"博罗县"},{value:"惠东县",label:"惠东县"},{value:"龙门县",label:"龙门县"}]},{value:"梅州市",label:"梅州市",children:[{value:"梅江区",label:"梅江区"},{value:"梅县区",label:"梅县区"},{value:"大埔县",label:"大埔县"},{value:"丰顺县",label:"丰顺县"},{value:"五华县",label:"五华县"},{value:"平远县",label:"平远县"},{value:"蕉岭县",label:"蕉岭县"},{value:"兴宁市",label:"兴宁市"}]},{value:"汕尾市",label:"汕尾市",children:[{value:"城区",label:"城区"},{value:"海丰县",label:"海丰县"},{value:"陆河县",label:"陆河县"},{value:"陆丰市",label:"陆丰市"}]},{value:"河源市",label:"河源市",children:[{value:"源城区",label:"源城区"},{value:"紫金县",label:"紫金县"},{value:"龙川县",label:"龙川县"},{value:"连平县",label:"连平县"},{value:"和平县",label:"和平县"},{value:"东源县",label:"东源县"}]},{value:"阳江市",label:"阳江市",children:[{value:"江城区",label:"江城区"},{value:"阳东区",label:"阳东区"},{value:"阳西县",label:"阳西县"},{value:"阳春市",label:"阳春市"}]},{value:"清远市",label:"清远市",children:[{value:"清城区",label:"清城区"},{value:"清新区",label:"清新区"},{value:"佛冈县",label:"佛冈县"},{value:"阳山县",label:"阳山县"},{value:"连山壮族瑶族自治县",label:"连山壮族瑶族自治县"},{value:"连南瑶族自治县",label:"连南瑶族自治县"},{value:"英德市",label:"英德市"},{value:"连州市",label:"连州市"}]},{value:"东莞市",label:"东莞市",children:[{value:"南城街道",label:"南城街道"},{value:"万江街道",label:"万江街道"},{value:"莞城街道",label:"莞城街道"},{value:"石碣镇",label:"石碣镇"},{value:"石龙镇",label:"石龙镇"},{value:"茶山镇",label:"茶山镇"},{value:"石排镇",label:"石排镇"},{value:"企石镇",label:"企石镇"},{value:"横沥镇",label:"横沥镇"},{value:"桥头镇",label:"桥头镇"},{value:"谢岗镇",label:"谢岗镇"},{value:"东坑镇",label:"东坑镇"},{value:"常平镇",label:"常平镇"},{value:"寮步镇",label:"寮步镇"},{value:"樟木头镇",label:"樟木头镇"},{value:"大朗镇",label:"大朗镇"},{value:"黄江镇",label:"黄江镇"},{value:"清溪镇",label:"清溪镇"},{value:"塘厦镇",label:"塘厦镇"},{value:"凤岗镇",label:"凤岗镇"},{value:"大岭山镇",label:"大岭山镇"},{value:"长安镇",label:"长安镇"},{value:"虎门镇",label:"虎门镇"},{value:"厚街镇",label:"厚街镇"},{value:"沙田镇",label:"沙田镇"},{value:"道滘镇",label:"道滘镇"},{value:"洪梅镇",label:"洪梅镇"},{value:"麻涌镇",label:"麻涌镇"},{value:"望牛墩镇",label:"望牛墩镇"},{value:"中堂镇",label:"中堂镇"},{value:"高埗镇",label:"高埗镇"},{value:"松山湖管委会",label:"松山湖管委会"},{value:"虎门港管委会",label:"虎门港管委会"},{value:"东莞生态园",label:"东莞生态园"},{value:"东城街道",label:"东城街道"}]},{value:"中山市",label:"中山市",children:[{value:"石岐区街道",label:"石岐区街道"},{value:"东区街道",label:"东区街道"},{value:"火炬开发区街道",label:"火炬开发区街道"},{value:"西区街道",label:"西区街道"},{value:"南区街道",label:"南区街道"},{value:"五桂山街道",label:"五桂山街道"},{value:"小榄镇",label:"小榄镇"},{value:"黄圃镇",label:"黄圃镇"},{value:"民众镇",label:"民众镇"},{value:"东凤镇",label:"东凤镇"},{value:"东升镇",label:"东升镇"},{value:"古镇镇",label:"古镇镇"},{value:"沙溪镇",label:"沙溪镇"},{value:"坦洲镇",label:"坦洲镇"},{value:"港口镇",label:"港口镇"},{value:"三角镇",label:"三角镇"},{value:"横栏镇",label:"横栏镇"},{value:"南头镇",label:"南头镇"},{value:"阜沙镇",label:"阜沙镇"},{value:"南朗镇",label:"南朗镇"},{value:"三乡镇",label:"三乡镇"},{value:"板芙镇",label:"板芙镇"},{value:"大涌镇",label:"大涌镇"},{value:"神湾镇",label:"神湾镇"}]},{value:"潮州市",label:"潮州市",children:[{value:"湘桥区",label:"湘桥区"},{value:"潮安区",label:"潮安区"},{value:"饶平县",label:"饶平县"}]},{value:"揭阳市",label:"揭阳市",children:[{value:"榕城区",label:"榕城区"},{value:"揭东区",label:"揭东区"},{value:"揭西县",label:"揭西县"},{value:"惠来县",label:"惠来县"},{value:"普宁市",label:"普宁市"}]},{value:"云浮市",label:"云浮市",children:[{value:"云城区",label:"云城区"},{value:"云安区",label:"云安区"},{value:"新兴县",label:"新兴县"},{value:"郁南县",label:"郁南县"},{value:"罗定市",label:"罗定市"}]}]}},methods:{districtChange:function(e){console.log(e),this.locationForm.city=e[0],this.locationForm.district=e[1],console.log(this.locationForm)},submitForm:function(e){var a=this;_({method:"PUT",url:"/manage/locations",params:this.locationForm}).then(function(e){e.data.code,a.$message({type:"success",message:e.data.msg})})},resetForm:function(e){this.$refs[e].resetFields()}}},Fe=we,ye=Object(i["a"])(Fe,fe,_e,!1,null,null,null),ke=ye.exports,$e=ke,xe=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{attrs:{className:"location-manage-page"}},[t("el-row",[t("el-col",{attrs:{span:8}},[t("div",{staticClass:"grid-content bg-purple"},[t("div",{attrs:{className:"basic-form"}},[t("basic-container",[t("el-form",{ref:"searchForm",staticClass:"demo-ruleForm",attrs:{model:e.searchForm,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"搜索ID",prop:"location_id"}},[t("el-input",{model:{value:e.searchForm.location_id,callback:function(a){e.$set(e.searchForm,"location_id",a)},expression:"searchForm.location_id"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(a){e.submitSearchFormById()}}},[e._v("搜索")])],1),t("el-form-item",{attrs:{label:"城市",prop:"location_city"}},[t("el-input",{model:{value:e.searchForm.location_city,callback:function(a){e.$set(e.searchForm,"location_city",a)},expression:"searchForm.location_city"}})],1),t("el-form-item",{attrs:{label:"地区",prop:"location_district"}},[t("el-input",{model:{value:e.searchForm.location_district,callback:function(a){e.$set(e.searchForm,"location_district",a)},expression:"searchForm.location_district"}})],1),t("el-form-item",{attrs:{label:"地址",prop:"location_address"}},[t("el-input",{model:{value:e.searchForm.location_address,callback:function(a){e.$set(e.searchForm,"location_address",a)},expression:"searchForm.location_address"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(a){e.submitSearchFormByAddress()}}},[e._v("搜索")]),t("el-button",{on:{click:function(a){e.resetSearchForm("searchForm")}}},[e._v("重置")])],1),t("el-form-item",{attrs:{label:"名称",prop:"location_alias"}},[t("el-input",{model:{value:e.searchForm.location_alias,callback:function(a){e.$set(e.searchForm,"location_alias",a)},expression:"searchForm.location_alias"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(a){e.submitSearchFormByAlias()}}},[e._v("搜索")])],1)],1)],1)],1)])]),t("el-col",{attrs:{span:1}},[t("span",[e._v(" ")])]),t("el-col",{attrs:{span:15}},[t("div",{staticClass:"grid-content bg-purple"},[t("div",{attrs:{className:"fixed-table"}},[t("basic-container",[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"",height:"800px"}},[t("el-table-column",{attrs:{sortable:"",prop:"location_id",label:"ID",width:"80"}}),t("el-table-column",{attrs:{sortable:"",prop:"location_city",label:"城市",width:"80"}}),t("el-table-column",{attrs:{sortable:"",prop:"location_district",label:"地区",width:"80"}}),t("el-table-column",{attrs:{sortable:"",prop:"location_address",label:"地址",width:"230"}}),t("el-table-column",{attrs:{sortable:"",prop:"location_alias",label:"名称",width:"120"}}),t("el-table-column",{attrs:{sortable:"",prop:"location_amount",label:"投放容量",width:"60"}}),t("el-table-column",{attrs:{sortable:"",prop:"location_available",label:"可用数量",width:"60"}}),t("el-table-column",{attrs:{label:"操作",width:"280"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){e.handleEditAddress(a.$index,a.row)}}},[e._v("地址")]),t("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){e.handleEditAlias(a.$index,a.row)}}},[e._v("名称")]),t("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){e.handleEditAmount(a.$index,a.row)}}},[e._v("总量")]),t("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){e.handleDelete(a.$index,a.row)}}},[e._v("删除")])]}}])})],1),t("div",{staticStyle:{"text-align":"center"}},[t("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:50,"current-page":e.currentpage},on:{"current-change":e.handleCurrentChange,"update:currentPage":function(a){e.currentpage=a}}})],1)],1)],1)])])],1)],1)},Se=[],Ce={location_id:null,location_city:null,location_district:null,location_address:null,location_alias:null,url:"",pageNum:1},Te={name:"LocationManage",components:{BasicContainer:le["a"]},data:function(){return{tableData:[],searchForm:{locationId:null,locationCity:null,locationDistrict:null,locationAddress:null,locationAlias:null},currentpage:1}},mounted:function(){Ce.locationId=null,Ce.locationCity=null,Ce.locationDistrict=null,Ce.locationAddress=null,Ce.locationAlias=null,Ce.url="/manage/locations",Ce.pageNum=1,this.currentpage=1,this.getTable(Ce.url,Ce)},methods:{handleEditAddress:function(e,a){var t=this;console.log(e,a);var l=a.location_id,n=null;this.$prompt("请输入新地址","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(e){var a=e.value;n=a;var o=new URLSearchParams;o.append("address",n),""!=l&&""!=n&&_({method:"POST",url:"/manage/locations/"+l,params:o}).then(function(e){1==e.data.code?t.$message({type:"success",message:e.data.msg}):t.$message({type:"warning",message:e.data.msg})})}).catch(function(){t.$message({type:"info",message:"取消修改"})})},handleEditAlias:function(e,a){var t=this;console.log(e,a);var l=a.location_id,n=null;this.$prompt("请输入新名称","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(e){var a=e.value;n=a;var o=new URLSearchParams;o.append("alias",n),""!=l&&""!=n&&_({method:"POST",url:"/manage/locations/"+l,params:o}).then(function(e){1==e.data.code?t.$message({type:"success",message:e.data.msg}):t.$message({type:"warning",message:e.data.msg})})}).catch(function(){t.$message({type:"info",message:"取消修改"})})},handleEditAmount:function(e,a){var t=this;console.log(e,a);var l=a.location_id,n=null;this.$prompt("请输入新容量","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(e){var a=e.value;n=a;var o=new URLSearchParams;o.append("amount",n),""!=l&&""!=n&&_({method:"POST",url:"/manage/locations/"+l,params:o}).then(function(e){1==e.data.code?t.$message({type:"success",message:e.data.msg}):t.$message({type:"warning",message:e.data.msg})})}).catch(function(){t.$message({type:"info",message:"取消修改"})})},handleDelete:function(e,a){var t=this;console.log(e,a),this.$confirm("此操作将永久删除该用户, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then(function(){_({method:"DELETE",url:"/manage/administrators/"+a.admin_id}).then(function(e){1==e.data.code?t.$message({type:"success",message:e.data.msg}):t.$message({type:"warning",message:e.data.msg})})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},submitSearchFormById:function(){Ce.locationId=this.searchForm.location_id,Ce.locationCity=null,Ce.locationDistrict=null,Ce.locationAddress=null,Ce.locationAlias=null,Ce.url="/manage/locations/"+Ce.locationId,Ce.pageNum=1,this.currentpage=1,this.getTable(Ce.url,Ce)},submitSearchFormByAddress:function(){Ce.locationId=null,Ce.locationCity=this.searchForm.location_city,Ce.locationDistrict=this.searchForm.location_district,Ce.locationAddress=this.searchForm.location_address,Ce.locationAlias=null,Ce.url="/manage/locations",Ce.pageNum=1,this.currentpage=1,this.getTable(Ce.url,Ce)},submitSearchFormByAlias:function(){Ce.locationId=null,Ce.locationCity=null,Ce.locationDistrict=null,Ce.locationAddress=null,Ce.locationAlias=this.searchForm.location_alias,Ce.url="/manage/locations/alias/"+Ce.locationAlias,Ce.pageNum=1,this.currentpage=1,this.getTable(Ce.url,Ce)},resetSearchForm:function(e){this.$refs[e].resetFields()},getTable:function(e,a){var t=this;console.log("url : "+e+"   params : "+a),_({method:"GET",url:e,params:a}).then(function(e){t.tableData=e.data.data,e.data.code<1&&t.$message({type:"warning",message:e.data.msg})})},handleCurrentChange:function(e){console.log("当前页: ".concat(e)),Ce.pageNum=e,this.getTable(Ce.url,Ce)}}},Pe=Te,Be=Object(i["a"])(Pe,xe,Se,!1,null,null,null),Ie=Be.exports,De=Ie,Ne=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{attrs:{className:"power-bank-manage-page"}},[t("el-row",[t("el-col",{attrs:{span:8}},[t("div",{staticClass:"grid-content bg-purple"},[t("div",{attrs:{className:"basic-form"}},[t("basic-container",[t("el-form",{ref:"searchForm",staticClass:"demo-ruleForm",attrs:{model:e.searchForm,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"搜索ID",prop:"pobk_id"}},[t("el-input",{model:{value:e.searchForm.pobk_id,callback:function(a){e.$set(e.searchForm,"pobk_id",a)},expression:"searchForm.pobk_id"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(a){e.submitSearchFormById()}}},[e._v("搜索")])],1),t("el-form-item",{attrs:{label:"投放点ID搜索",prop:"pobk_location_id"}},[t("el-input",{model:{value:e.searchForm.pobk_location_id,callback:function(a){e.$set(e.searchForm,"pobk_location_id",a)},expression:"searchForm.pobk_location_id"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(a){e.submitSearchFormByLocationId()}}},[e._v("搜索")])],1)],1)],1)],1)]),t("div",{staticClass:"grid-content bg-purple"},[t("div",{attrs:{className:"basic-form"}},[t("basic-container",[t("el-form",{ref:"newForm",staticClass:"demo-ruleForm",attrs:{model:e.newForm,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"投放点ID",prop:"pobk_location_id"}},[t("el-input",{model:{value:e.newForm.pobk_location_id,callback:function(a){e.$set(e.newForm,"pobk_location_id",a)},expression:"newForm.pobk_location_id"}})],1),t("el-form-item",{attrs:{label:"投放数量",prop:"pobk_amount"}},[t("el-input",{model:{value:e.newForm.pobk_amount,callback:function(a){e.$set(e.newForm,"pobk_amount",a)},expression:"newForm.pobk_amount"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(a){e.submitNewForm()}}},[e._v("投放")]),t("el-button",{on:{click:function(a){e.resetNewForm("newForm")}}},[e._v("重置")])],1)],1)],1)],1)])]),t("el-col",{attrs:{span:1}},[t("span",[e._v(" ")])]),t("el-col",{attrs:{span:15}},[t("div",{staticClass:"grid-content bg-purple"},[t("div",{attrs:{className:"fixed-table"}},[t("basic-container",[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"",height:"800px"}},[t("el-table-column",{attrs:{sortable:"",prop:"pobk_id",label:"ID",width:"160"}}),t("el-table-column",{attrs:{sortable:"",prop:"pobk_location_id",label:"地点ID",width:"180"}}),t("el-table-column",{attrs:{sortable:"",prop:"pobk_status",label:"状态",width:"180"}}),t("el-table-column",{attrs:{label:"操作",width:"220"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){e.handleEdit(a.$index,a.row)}}},[e._v("转移投放点")]),t("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){e.handleDelete(a.$index,a.row)}}},[e._v("删除充电宝")])]}}])})],1),t("div",{staticStyle:{"text-align":"center"}},[t("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:50,"current-page":e.currentpage},on:{"current-change":e.handleCurrentChange,"update:currentPage":function(a){e.currentpage=a}}})],1)],1)],1)])])],1)],1)},Ae=[],Ee={pobk_id:null,pobk_location_id:null,url:"",pageNum:1},Oe={name:"PowerBankManage",components:{BasicContainer:le["a"]},data:function(){return{tableData:[{pobk_id:1,pobk_location_id:10,pobk_status:"available"}],searchForm:{pobk_id:"",pobk_location_id:""},newForm:{pobk_location_id:"",pobk_amount:null},currentpage:1}},mounted:function(){Ee.pobk_id=null,Ee.pobk_location_id=null,Ee.url="/manage/powerbanks/",Ee.pageNum=1,this.currentpage=1,this.getTable(Ee.url,Ee)},methods:{handleEdit:function(e,a){var t=this;console.log(e,a);var l=a.pobk_id,n=null;this.$prompt("请输入新投放点ID","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(e){var a=e.value;n=a;var o=new URLSearchParams;o.append("pobk_id",l),o.append("pobk_location_id",n),""!=l&&""!=n&&_({method:"POST",url:"/manage/powerbanks/"+l,params:o}).then(function(e){1==e.data.code?t.$message({type:"success",message:e.data.msg}):t.$message({type:"warning",message:e.data.msg})})}).catch(function(){t.$message({type:"info",message:"取消修改"})})},handleDelete:function(e,a){var t=this;console.log(e,a),this.$confirm("此操作将永久删除该充电宝, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then(function(){_({method:"DELETE",url:"/manage/powerbanks/"+a.pobk_id}).then(function(e){1==e.data.code?t.$message({type:"success",message:e.data.msg}):t.$message({type:"warning",message:e.data.msg})})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},submitSearchFormById:function(){""!=this.searchForm.pobk_id&&(Ee.pobk_id=this.searchForm.pobk_id,Ee.pobk_location_id=null,Ee.url="/manage/powerbanks/"+Ee.pobk_id,Ee.pageNum=1),this.currentpage=1,this.getTable(Ee.url,Ee)},submitSearchFormByLocationId:function(){""!=this.searchForm.pobk_location_id&&(Ee.pobk_id=null,Ee.pobk_location_id=this.searchForm.pobk_location_id,Ee.url="/manage/powerbanks/",Ee.pageNum=1),this.currentpage=1,this.getTable(Ee.url,Ee)},submitNewForm:function(){var e=this;""!=this.newForm.pobk_location_id&&this.newForm.pobk_amount;var a=new URLSearchParams;a.append("pobk_location_id",this.newForm.pobk_location_id),a.append("pobk_amount",this.newForm.pobk_amount),_({method:"put",url:"/manage/powerbanks",params:a}).then(function(a){1==a.data.code?(e.$message({type:"success",message:a.data.msg}),e.resetNewForm("newForm")):a.data.code<1&&e.$message({type:"warning",message:a.data.msg})})},resetSearchForm:function(e){this.$refs[e].resetFields()},resetNewForm:function(e){this.$refs[e].resetFields()},getTable:function(e,a){var t=this;console.log("url : "+e+"   params : "+a),_({method:"GET",url:e,params:a}).then(function(e){t.tableData=e.data.data,e.data.code<1&&t.$message({type:"warning",message:e.data.msg})})},handleCurrentChange:function(e){console.log("当前页: ".concat(e)),Ee.pageNum=e,this.getTable(Ee.url,Ee)}}},Le=Oe,je=Object(i["a"])(Le,Ne,Ae,!1,null,null,null),Ue=je.exports,Me=Ue,ze=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{attrs:{className:"order-manage-page"}},[t("div",{staticClass:"grid-content bg-purple"},[t("div",{attrs:{className:"basic-form"}},[t("basic-container",[t("el-form",{ref:"searchForm",staticClass:"demo-ruleForm",attrs:{model:e.searchForm,"label-width":"100px",inline:!0}},[t("el-form-item",{attrs:{label:"搜索ID",prop:"order_id"}},[t("el-input",{model:{value:e.searchForm.order_id,callback:function(a){e.$set(e.searchForm,"order_id",a)},expression:"searchForm.order_id"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(a){e.submitSearchFormById()}}},[e._v("搜索")])],1),t("el-form-item",{attrs:{label:"用户ID",prop:"order_user_id"}},[t("el-input",{model:{value:e.searchForm.order_user_id,callback:function(a){e.$set(e.searchForm,"order_user_id",a)},expression:"searchForm.order_user_id"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(a){e.submitSearchFormByUserId()}}},[e._v("搜索")])],1)],1)],1)],1)]),t("div",{staticClass:"grid-content bg-purple"},[t("div",{attrs:{className:"fixed-table"}},[t("basic-container",[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"",height:"800px"}},[t("el-table-column",{attrs:{sortable:"",prop:"order_id",label:"ID",width:"80"}}),t("el-table-column",{attrs:{sortable:"",prop:"order_user_id",label:"用户ID",width:"100"}}),t("el-table-column",{attrs:{sortable:"",prop:"order_lent_location_id",label:"租借地点ID",width:"115"}}),t("el-table-column",{attrs:{sortable:"",prop:"order_pobk_id",label:"充电宝ID",width:"105"}}),t("el-table-column",{attrs:{sortable:"",prop:"order_create_time",label:"创建时间",width:"210"}}),t("el-table-column",{attrs:{sortable:"",prop:"order_has_finished",label:"是否完成",width:"105"}}),t("el-table-column",{attrs:{sortable:"",prop:"order_revert_location_id",label:"归还地点ID",width:"115"}}),t("el-table-column",{attrs:{sortable:"",prop:"order_finish_time",label:"结束时间",width:"210"}}),t("el-table-column",{attrs:{sortable:"",prop:"order_cost",label:"产生费用",width:"105"}}),t("el-table-column",{attrs:{label:"操作",width:"160"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){e.handleEditAddress(a.$index,a.row)}}},[e._v("完成")]),t("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){e.handleDelete(a.$index,a.row)}}},[e._v("删除")])]}}])})],1),t("div",{staticStyle:{"text-align":"center"}},[t("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:50,"current-page":e.currentpage},on:{"current-change":e.handleCurrentChange,"update:currentPage":function(a){e.currentpage=a}}})],1)],1)],1)])])},Re=[],Xe={order_id:null,order_user_id:null,url:"",pageNum:1},Ge={name:"OrderManage",components:{BasicContainer:le["a"]},data:function(){return{tableData:[{order_id:1,order_user_id:2,order_lent_location_id:10,order_pobk_id:2,order_create_time:"2018-07-02 20:13:00",order_has_finished:"false",order_revert_location_id:11,order_finish_time:"2018-07-02 20:55:00",order_cost:.5}],searchForm:{order_id:null,order_user_id:null},currentpage:1}},mounted:function(){Xe.order_id=null,Xe.order_user_id=null,Xe.url="/manage/orders",Xe.pageNum=1,this.currentpage=1,this.getTable(Xe.url,Xe)},methods:{handleEditAddress:function(e,a){var t=this;console.log(e,a);var l=a.location_id,n=null;this.$prompt("请输入新地址","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(e){var a=e.value;n=a;var o=new URLSearchParams;o.append("address",n),""!=l&&""!=n&&_({method:"POST",url:"/manage/locations/"+l,params:o}).then(function(e){1==e.data.code?t.$message({type:"success",message:e.data.msg}):t.$message({type:"warning",message:e.data.msg})})}).catch(function(){t.$message({type:"info",message:"取消修改"})})},handleDelete:function(e,a){var t=this;console.log(e,a),this.$confirm("此操作将永久删除该用户, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then(function(){_({method:"DELETE",url:"/manage/administrators/"+a.admin_id}).then(function(e){1==e.data.code?t.$message({type:"success",message:e.data.msg}):t.$message({type:"warning",message:e.data.msg})})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},submitSearchFormById:function(){Xe.order_id=this.searchForm.order_id,Xe.order_user_id=null,Xe.url="/manage/orders/"+Xe.order_id,Xe.pageNum=1,this.currentpage=1,this.getTable(Xe.url,Xe)},submitSearchFormByUserId:function(){Xe.order_id=null,Xe.order_user_id=this.searchForm.order_user_id,Xe.url="/manage/orders",Xe.pageNum=1,this.currentpage=1,this.getTable(Xe.url,Xe)},resetSearchForm:function(e){this.$refs[e].resetFields()},getTable:function(e,a){var t=this;console.log("url : "+e+"   params : "+a),_({method:"GET",url:e,params:a}).then(function(e){t.tableData=e.data.data,e.data.code<1&&t.$message({type:"warning",message:e.data.msg})})},handleCurrentChange:function(e){console.log("当前页: ".concat(e)),Xe.pageNum=e,this.getTable(Xe.url,Xe)}}},Qe=Ge,Je=Object(i["a"])(Qe,ze,Re,!1,null,null,null),We=Je.exports,Ke=We,Ve=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticStyle:{background:"#f0f2f5","margin-top":"-20px",height:"100%"}},[t("div",{staticClass:"wscn-http404"},[t("div",{staticClass:"pic-404"},[t("img",{staticClass:"pic-404__parent",attrs:{src:e.img_404,alt:"404"}}),t("img",{staticClass:"pic-404__child left",attrs:{src:e.img_404_cloud,alt:"404"}}),t("img",{staticClass:"pic-404__child mid",attrs:{src:e.img_404_cloud,alt:"404"}}),t("img",{staticClass:"pic-404__child right",attrs:{src:e.img_404_cloud,alt:"404"}})]),e._m(0)])])},Ye=[function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"bullshit"},[t("div",{staticClass:"bullshit__headline"},[e._v("抱歉，你访问的页面不存在")]),t("a",{staticClass:"bullshit__return-home",attrs:{href:"/"}},[e._v("返回首页")])])}],He=t("FvQx"),Ze=t.n(He),qe=t("JibB"),ea=t.n(qe),aa={name:"page404",data:function(){return{img_404:Ze.a,img_404_cloud:ea.a}}},ta=aa,la=(t("f3xd"),Object(i["a"])(ta,Ve,Ye,!1,null,"52fb7dc5",null)),na=la.exports,oa=na,ra=[{path:"/",layout:K,component:ee,children:[{path:"/dashboard/analysis",layout:K,component:ee},{path:"/dashboard/monitor",layout:K,component:oa},{path:"/dashboard/workplace",layout:K,component:oa}]},{path:"/user",layout:K,component:oa,children:[{path:"/user/usermanage",layout:K,component:ce},{path:"/user/adminmanage",layout:K,component:ve}]},{path:"/location",layout:K,component:oa,children:[{path:"/location/add",layout:K,component:$e},{path:"/location/locationmanage",layout:K,component:De}]},{path:"/powerbank/manage",layout:K,component:Me},{path:"/order/manage",layout:K,component:Ke},{path:"*",layout:K,component:oa}],sa=ra,ia=[],ca=function e(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return a.forEach(function(a){var t={path:a.path,component:a.layout,children:[{path:"",component:a.component}]};Array.isArray(a.children)&&e(a.children),ia.push(t)}),ia},ua=ca(sa);l["default"].use(d["a"]);var ma=new d["a"]({routes:ua});l["default"].use(o.a),l["default"].config.productionTip=!1,new l["default"]({router:ma,render:function(e){return e(m)}}).$mount("#app")},f3xd:function(e,a,t){"use strict";var l=t("S8OV"),n=t.n(l);n.a},rg3u:function(e,a,t){"use strict";var l=t("/PNr"),n=t.n(l);n.a},"sg+I":function(e,a,t){},skF7:function(e,a,t){"use strict";var l=t("875Q"),n=t.n(l);n.a},wU40:function(e,a,t){"use strict";var l=t("2vIK"),n=t.n(l);n.a}});
//# sourceMappingURL=app.ba1a75fe.js.map